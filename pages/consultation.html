<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-3WCW57RF6Q"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-3WCW57RF6Q');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schedule a Remodeling Consultation | Lighthouse Design Build</title>
    
    <meta name="description" content="Schedule your remodeling consultation in Fairfield County, CT and speak with our design-build experts about your renovation goals.">
    <link rel="canonical" href="https://www.designwithlighthouse.com/pages/consultation">

    <link href="/dist/css/styles.css" rel="stylesheet">
    <script src="/src/js/main.js" defer></script>
    <script src="/src/js/navigation.js" defer></script>
    <!-- Inline theme detection (prevents flash) -->
    <script>
      (function() {
        const theme = localStorage.getItem('theme') ||
          (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
        if (theme === 'dark') document.documentElement.classList.add('dark');
      })();
    </script>

    <!-- Alpine.js Collapse Plugin (BEFORE Alpine core) -->
    <script defer src="https://cdn.jsdelivr.net/npm/@alpinejs/collapse@3.x.x/dist/cdn.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>


  <!-- Favicon -->
  <link rel="apple-touch-icon" sizes="180x180" href="/src/assets/icons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/src/assets/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/src/assets/icons/favicon-16x16.png">
  <link rel="manifest" href="/src/assets/icons/site.webmanifest">

</head>
<body class="bg-white dark:bg-[#0a0a0a] font-body text-charcoal dark:text-gray-100 antialiased">
    <!-- Page Loader -->
    <div id="page-loader" class="fixed inset-0 z-[9999] flex items-center justify-center bg-[#F5F7F8] dark:bg-[#0a0a0a] transition-opacity duration-500">
        <div class="flex flex-row gap-2">
            <div class="w-4 h-4 rounded-full bg-[#1C3D5A] dark:bg-[#D6B86A] animate-bounce"></div>
            <div class="w-4 h-4 rounded-full bg-[#1C3D5A] dark:bg-[#D6B86A] animate-bounce [animation-delay:-.3s]"></div>
            <div class="w-4 h-4 rounded-full bg-[#1C3D5A] dark:bg-[#D6B86A] animate-bounce [animation-delay:-.5s]"></div>
        </div>
    </div>

    <div id="header-placeholder"></div>

    <!-- Hero Section -->
    <section class="pt-24 pb-16 md:pt-32 md:pb-24 bg-gradient-to-r from-lighthouse-navy via-lighthouse-dark-navy to-lighthouse-navy relative overflow-hidden">
        <!-- Decorative Elements -->
        <div class="absolute inset-0 opacity-10">
            <div class="absolute top-10 right-10 w-72 h-72 bg-lighthouse-teal rounded-full mix-blend-multiply filter blur-3xl animate-pulse"></div>
            <div class="absolute bottom-10 left-10 w-72 h-72 bg-lighthouse-gold rounded-full mix-blend-multiply filter blur-3xl animate-pulse" style="animation-delay: 2s;"></div>
        </div>

        <div class="container-custom relative z-10">
            <div class="max-w-3xl mx-auto text-center text-white animate-fade-in">
                <!-- Subheading -->
                <div class="inline-block bg-lighthouse-teal/20 border border-lighthouse-teal/50 rounded-full px-6 py-2 mb-6">
                    <span class="text-lighthouse-teal font-heading font-semibold text-sm">Your Dream Home Awaits</span>
                </div>

                <!-- Main Headline -->
                <h1 class="text-4xl md:text-5xl lg:text-6xl font-display font-bold mb-6 text-white leading-tight">
                    Transform Your Home Today
                </h1>

                <!-- Subtext -->
                <p class="text-xl md:text-2xl text-gray-200 mb-8 leading-relaxed">
                    Schedule Your Free Consultation
                </p>

                <!-- Trust Signal -->
                <div class="flex flex-col sm:flex-row items-center justify-center gap-6 text-gray-300">
                    <div class="flex items-center gap-2">
                        <svg class="w-6 h-6 text-lighthouse-gold" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                        </svg>
                        <span>Join 500+ Satisfied Homeowners</span>
                    </div>
                    <div class="hidden sm:block w-1 h-1 bg-gray-400 rounded-full"></div>
                    <div class="flex items-center gap-2">
                        <svg class="w-6 h-6 text-lighthouse-gold" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                        </svg>
                        <span>Expert Advice from Licensed Professionals</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Trust Section -->
    <section class="py-16 md:py-24 bg-gradient-to-r from-[#5C88A0] to-[#D6B86A] dark:from-[#1C3D5A] dark:to-[#D6B86A]/50 border-y border-[#1C3D5A] dark:border-gray-800">
        <div class="container-custom">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Trust Item 1 -->
                <div class="text-center">
                    <div class="inline-flex items-center justify-center w-16 h-16 bg-lighthouse-teal/10 rounded-lg mb-4">
                        <svg class="w-8 h-8 text-lighthouse-teal" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5.951-1.488 5.951 1.488a1 1 0 001.169-1.409l-7-14z" />
                        </svg>
                    </div>
                    <h3 class="text-xl font-heading font-bold text-lighthouse-navy dark:text-white mb-2">15 Years Experience</h3>
                    <p class="text-gray-600 dark:text-gray-400">Over a decade of proven expertise in residential renovations across Connecticut.</p>
                </div>

                <!-- Trust Item 2 -->
                <div class="text-center">
                    <div class="inline-flex items-center justify-center w-16 h-16 bg-lighthouse-gold/10 rounded-lg mb-4">
                        <svg class="w-8 h-8 text-lighthouse-gold" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M12.316 3.051a1 1 0 01.633 1.265l-4 12a1 1 0 11-1.898-.632l4-12a1 1 0 011.265-.633zM5.707 6.293a1 1 0 010 1.414L3.414 10l2.293 2.293a1 1 0 11-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0zm8.586 0a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 11-1.414-1.414L16.586 10l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
                        </svg>
                    </div>
                    <h3 class="text-xl font-heading font-bold text-lighthouse-navy dark:text-white mb-2">200+ Projects Completed</h3>
                    <p class="text-gray-600 dark:text-gray-400">Consistently delivering exceptional results across kitchens, bathrooms, and custom homes.</p>
                </div>

                <!-- Trust Item 3 -->
                <div class="text-center">
                    <div class="inline-flex items-center justify-center w-16 h-16 bg-lighthouse-teal/10 rounded-lg mb-4">
                        <svg class="w-8 h-8 text-lighthouse-teal" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 3.062v6.006a3.066 3.066 0 01-3.062 3.062H4.033a3.066 3.066 0 01-3.063-3.062V6.517a3.066 3.066 0 012.812-3.062zm7.958 5.641a1 1 0 00-1.414-1.414L7 10.586 5.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                        </svg>
                    </div>
                    <h3 class="text-xl font-heading font-bold text-white dark:text-white mb-2">Licensed & Insured</h3>
                    <p class="text-white/85 dark:text-gray-400">Fully licensed general contractor with comprehensive liability and bonding coverage.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content Section -->
    <section class="py-16 md:py-24 bg-gradient-to-br from-[#1C3D5A] to-[#D6B86A] dark:from-[#0a0a0a] dark:to-[#D6B86A]/50 bg-pattern-dots">
        <div class="container-custom">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 lg:gap-12">
                <!-- Form Container -->
                <div class="lg:col-span-2">
                    <!-- Consultation Form -->
                    <div x-data="consultationForm()" class="bg-white dark:bg-gray-900 rounded-xl shadow-lg dark:shadow-gray-900/50 overflow-hidden">
                        <!-- Form Container -->
                        <div class="p-8 md:p-12">
                            <!-- Progress Bar -->
                            <div class="mb-8">
                                <div class="flex items-center justify-between mb-3">
                                    <span class="text-sm font-semibold text-lighthouse-navy dark:text-white">Step <span x-text="currentStep"></span> of 3</span>
                                    <span class="text-sm text-gray-600 dark:text-gray-400" x-text="Math.round((currentStep / 3) * 100) + '%'"></span>
                                </div>
                                <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 overflow-hidden">
                                    <div class="bg-gradient-to-r from-lighthouse-teal to-lighthouse-light-teal h-2.5 rounded-full transition-all duration-300 ease-out" :style="`width: ${(currentStep / 3) * 100}%`"></div>
                                </div>
                            </div>

                            <!-- Form -->
                            <form @submit.prevent="submitForm()">
                                <!-- STEP 1: Basic Information -->
                                <div x-show="currentStep === 1"  x-transition:enter-start="opacity-0 translate-y-4" x-transition:enter-end="opacity-100 translate-y-0">
                                    <h2 class="text-2xl font-heading font-bold text-lighthouse-navy dark:text-white mb-6">Tell Us About Yourself</h2>

                                    <!-- Full Name -->
                                    <div class="mb-6">
                                        <label for="fullName" class="block text-sm font-semibold text-lighthouse-navy dark:text-white mb-2">
                                            Full Name <span class="text-red-500">*</span>
                                        </label>
                                        <input
                                            type="text"
                                            id="fullName"
                                            x-model="formData.fullName"
                                            @blur="validateField('fullName')"
                                            placeholder="John Smith"
                                            class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-lighthouse-navy dark:text-gray-100 rounded-lg focus:ring-2 focus:ring-lighthouse-teal focus:border-transparent transition placeholder-gray-400 dark:placeholder-gray-500"
                                            required
                                        >
                                        <p class="text-red-500 text-sm mt-1" x-show="errors.fullName" x-text="errors.fullName"></p>
                                    </div>

                                    <!-- Email -->
                                    <div class="mb-6">
                                        <label for="email" class="block text-sm font-semibold text-lighthouse-navy dark:text-white mb-2">
                                            Email Address <span class="text-red-500">*</span>
                                        </label>
                                        <input
                                            type="email"
                                            id="email"
                                            x-model="formData.email"
                                            @blur="validateField('email')"
                                            placeholder="john@example.com"
                                            class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-lighthouse-navy dark:text-gray-100 rounded-lg focus:ring-2 focus:ring-lighthouse-teal focus:border-transparent transition placeholder-gray-400 dark:placeholder-gray-500"
                                            required
                                        >
                                        <p class="text-red-500 text-sm mt-1" x-show="errors.email" x-text="errors.email"></p>
                                    </div>

                                    <!-- Phone -->
                                    <div class="mb-6">
                                        <label for="phone" class="block text-sm font-semibold text-lighthouse-navy dark:text-white mb-2">
                                            Phone Number <span class="text-red-500">*</span>
                                        </label>
                                        <input
                                            type="tel"
                                            id="phone"
                                            x-model="formData.phone"
                                            @blur="validateField('phone')"
                                            placeholder="(203) 555-1234"
                                            class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-lighthouse-navy dark:text-gray-100 rounded-lg focus:ring-2 focus:ring-lighthouse-teal focus:border-transparent transition placeholder-gray-400 dark:placeholder-gray-500"
                                            required
                                        >
                                        <p class="text-red-500 text-sm mt-1" x-show="errors.phone" x-text="errors.phone"></p>
                                    </div>

                                    <!-- Navigation Buttons -->
                                    <div class="flex gap-4 pt-6">
                                        <button
                                            type="button"
                                            @click="nextStep()"
                                            class="flex-1 btn-primary"
                                        >
                                            Next Step
                                        </button>
                                    </div>
                                </div>

                                <!-- STEP 2: Project Details -->
                                <div x-show="currentStep === 2"  x-transition:enter-start="opacity-0 translate-y-4" x-transition:enter-end="opacity-100 translate-y-0">
                                    <h2 class="text-2xl font-heading font-bold text-lighthouse-navy dark:text-white mb-6">Project Details</h2>

                                    <!-- Address/Location -->
                                    <div class="mb-6">
                                        <label for="address" class="block text-sm font-semibold text-lighthouse-navy dark:text-white mb-2">
                                            Project Address/Location <span class="text-red-500">*</span>
                                        </label>
                                        <input
                                            type="text"
                                            id="address"
                                            x-model="formData.address"
                                            @blur="validateField('address')"
                                            placeholder="123 Main Street, Fairfield, CT"
                                            class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-lighthouse-navy dark:text-gray-100 rounded-lg focus:ring-2 focus:ring-lighthouse-teal focus:border-transparent transition placeholder-gray-400 dark:placeholder-gray-500"
                                            required
                                        >
                                        <p class="text-red-500 text-sm mt-1" x-show="errors.address" x-text="errors.address"></p>
                                    </div>

                                    <!-- Project Type -->
                                    <div class="mb-6">
                                        <label for="projectType" class="block text-sm font-semibold text-lighthouse-navy dark:text-white mb-2">
                                            Project Type <span class="text-red-500">*</span>
                                        </label>
                                        <select
                                            id="projectType"
                                            x-model="formData.projectType"
                                            @change="validateField('projectType')"
                                            class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-lighthouse-navy dark:text-gray-100 rounded-lg focus:ring-2 focus:ring-lighthouse-teal focus:border-transparent transition"
                                            required
                                        >
                                            <option value="">Select a project type</option>
                                            <option value="kitchen">Kitchen Remodeling</option>
                                            <option value="bathroom">Bathroom Renovation</option>
                                            <option value="addition">Home Addition</option>
                                            <option value="outdoor">Outdoor Living Space</option>
                                            <option value="custom">Custom Home Build</option>
                                            <option value="other">Other</option>
                                        </select>
                                        <p class="text-red-500 text-sm mt-1" x-show="errors.projectType" x-text="errors.projectType"></p>
                                    </div>

                                    <!-- Timeline -->
                                    <div class="mb-6">
                                        <label for="timeline" class="block text-sm font-semibold text-lighthouse-navy dark:text-white mb-2">
                                            Project Timeline <span class="text-red-500">*</span>
                                        </label>
                                        <select
                                            id="timeline"
                                            x-model="formData.timeline"
                                            @change="validateField('timeline')"
                                            class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-lighthouse-navy dark:text-gray-100 rounded-lg focus:ring-2 focus:ring-lighthouse-teal focus:border-transparent transition"
                                            required
                                        >
                                            <option value="">Select timeline</option>
                                            <option value="immediate">Ready to start immediately</option>
                                            <option value="1-3">1-3 months from now</option>
                                            <option value="3-6">3-6 months from now</option>
                                            <option value="6-12">6-12 months from now</option>
                                            <option value="exploring">Still exploring options</option>
                                        </select>
                                        <p class="text-red-500 text-sm mt-1" x-show="errors.timeline" x-text="errors.timeline"></p>
                                    </div>

                                    <!-- Budget Range -->
                                    <div class="mb-6">
                                        <label for="budget" class="block text-sm font-semibold text-lighthouse-navy dark:text-white mb-2">
                                            Estimated Budget <span class="text-red-500">*</span>
                                        </label>
                                        <select
                                            id="budget"
                                            x-model="formData.budget"
                                            @change="validateField('budget')"
                                            class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-lighthouse-navy dark:text-gray-100 rounded-lg focus:ring-2 focus:ring-lighthouse-teal focus:border-transparent transition"
                                            required
                                        >
                                            <option value="">Select budget range</option>
                                            <option value="under25">Under $25,000</option>
                                            <option value="25-50">$25,000 - $50,000</option>
                                            <option value="50-100">$50,000 - $100,000</option>
                                            <option value="100-250">$100,000 - $250,000</option>
                                            <option value="over250">$250,000+</option>
                                        </select>
                                        <p class="text-red-500 text-sm mt-1" x-show="errors.budget" x-text="errors.budget"></p>
                                    </div>

                                    <!-- Navigation Buttons -->
                                    <div class="flex gap-4 pt-6">
                                        <button
                                            type="button"
                                            @click="previousStep()"
                                            class="flex-1 px-6 py-3 border border-gray-300 text-lighthouse-navy dark:text-white font-heading font-semibold rounded-lg hover:bg-gray-50 dark:bg-gray-800 transition"
                                        >
                                            Back
                                        </button>
                                        <button
                                            type="button"
                                            @click="nextStep()"
                                            class="flex-1 btn-primary"
                                        >
                                            Next Step
                                        </button>
                                    </div>
                                </div>

                                <!-- STEP 3: Details & Preferences -->
                                <div x-show="currentStep === 3"  x-transition:enter-start="opacity-0 translate-y-4" x-transition:enter-end="opacity-100 translate-y-0">
                                    <h2 class="text-2xl font-heading font-bold text-lighthouse-navy dark:text-white mb-6">Final Details</h2>

                                    <!-- Project Description -->
                                    <div class="mb-6">
                                        <label for="description" class="block text-sm font-semibold text-lighthouse-navy dark:text-white mb-2">
                                            Project Description <span class="text-red-500">*</span>
                                        </label>
                                        <textarea
                                            id="description"
                                            x-model="formData.description"
                                            @blur="validateField('description')"
                                            placeholder="Tell us more about your project, your vision, and any specific requirements or challenges..."
                                            rows="5"
                                            minlength="10"
                                            maxlength="2000"
                                            class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-lighthouse-navy dark:text-gray-100 rounded-lg focus:ring-2 focus:ring-lighthouse-teal focus:border-transparent transition resize-none placeholder-gray-400 dark:placeholder-gray-500"
                                            required
                                        ></textarea>
                                        <div class="flex justify-between mt-2">
                                            <p class="text-red-500 text-sm" x-show="errors.description" x-text="errors.description"></p>
                                            <p class="text-gray-500 text-sm"><span x-text="formData.description.length"></span>/2000</p>
                                        </div>
                                    </div>

                                    <!-- How did you hear about us -->
                                    <div class="mb-6">
                                        <label for="referralSource" class="block text-sm font-semibold text-lighthouse-navy dark:text-white mb-2">
                                            How did you hear about us?
                                        </label>
                                        <select
                                            id="referralSource"
                                            x-model="formData.referralSource"
                                            class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-lighthouse-navy dark:text-gray-100 rounded-lg focus:ring-2 focus:ring-lighthouse-teal focus:border-transparent transition"
                                        >
                                            <option value="">Select an option</option>
                                            <option value="search">Google Search</option>
                                            <option value="social">Social Media</option>
                                            <option value="friend">Friend/Family Referral</option>
                                            <option value="review">Online Review</option>
                                            <option value="past">Past Customer</option>
                                            <option value="other">Other</option>
                                        </select>
                                    </div>

                                    <!-- Preferred Contact Method -->
                                    <div class="mb-6">
                                        <label class="block text-sm font-semibold text-lighthouse-navy dark:text-white mb-3">
                                            Preferred Contact Method <span class="text-red-500">*</span>
                                        </label>
                                        <div class="space-y-3">
                                            <div class="flex items-center">
                                                <input
                                                    type="radio"
                                                    id="contact-phone"
                                                    value="Phone"
                                                    x-model="formData.contactMethod"
                                                    class="w-4 h-4 text-lighthouse-teal"
                                                >
                                                <label for="contact-phone" class="ml-3 text-gray-700 dark:text-gray-300 cursor-pointer">Phone Call</label>
                                            </div>
                                            <div class="flex items-center">
                                                <input
                                                    type="radio"
                                                    id="contact-email"
                                                    value="Email"
                                                    x-model="formData.contactMethod"
                                                    class="w-4 h-4 text-lighthouse-teal"
                                                >
                                                <label for="contact-email" class="ml-3 text-gray-700 dark:text-gray-300 cursor-pointer">Email</label>
                                            </div>
                                            <div class="flex items-center">
                                                <input
                                                    type="radio"
                                                    id="contact-either"
                                                    value="Either"
                                                    x-model="formData.contactMethod"
                                                    class="w-4 h-4 text-lighthouse-teal"
                                                >
                                                <label for="contact-either" class="ml-3 text-gray-700 dark:text-gray-300 cursor-pointer">Either (Surprise Me!)</label>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Best Time to Call -->
                                    <div class="mb-6">
                                        <label class="block text-sm font-semibold text-lighthouse-navy dark:text-white mb-3">
                                            Best Time to Contact You
                                        </label>
                                        <div class="space-y-3">
                                            <div class="flex items-center">
                                                <input
                                                    type="checkbox"
                                                    id="time-morning"
                                                    value="Morning"
                                                    @change="toggleTime('Morning')"
                                                    class="w-4 h-4 text-lighthouse-teal rounded"
                                                >
                                                <label for="time-morning" class="ml-3 text-gray-700 dark:text-gray-300 cursor-pointer">Morning (8am - 12pm)</label>
                                            </div>
                                            <div class="flex items-center">
                                                <input
                                                    type="checkbox"
                                                    id="time-afternoon"
                                                    value="Afternoon"
                                                    @change="toggleTime('Afternoon')"
                                                    class="w-4 h-4 text-lighthouse-teal rounded"
                                                >
                                                <label for="time-afternoon" class="ml-3 text-gray-700 dark:text-gray-300 cursor-pointer">Afternoon (12pm - 5pm)</label>
                                            </div>
                                            <div class="flex items-center">
                                                <input
                                                    type="checkbox"
                                                    id="time-evening"
                                                    value="Evening"
                                                    @change="toggleTime('Evening')"
                                                    class="w-4 h-4 text-lighthouse-teal rounded"
                                                >
                                                <label for="time-evening" class="ml-3 text-gray-700 dark:text-gray-300 cursor-pointer">Evening (5pm - 8pm)</label>
                                            </div>
                                            <div class="flex items-center">
                                                <input
                                                    type="checkbox"
                                                    id="time-anytime"
                                                    value="Anytime"
                                                    @change="toggleTime('Anytime')"
                                                    class="w-4 h-4 text-lighthouse-teal rounded"
                                                >
                                                <label for="time-anytime" class="ml-3 text-gray-700 dark:text-gray-300 cursor-pointer">Anytime</label>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- File Upload -->
                                    <div class="mb-6">
                                        <label class="block text-sm font-semibold text-lighthouse-navy dark:text-white mb-3">
                                            Upload Inspiration Images (Optional)
                                        </label>
                                        <div class="border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center hover:border-lighthouse-teal transition cursor-pointer bg-white dark:bg-gray-800"
                                             @click="$refs.fileInput.click()"
                                             @dragover.prevent="dragOver = true"
                                             @dragleave.prevent="dragOver = false"
                                             @drop.prevent="handleFileUpload"
                                             :class="dragOver ? 'border-lighthouse-teal bg-lighthouse-teal/5' : ''">
                                            <input
                                                type="file"
                                                multiple
                                                accept="image/*"
                                                x-ref="fileInput"
                                                @change="handleFileUpload"
                                                class="hidden"
                                            >
                                            <svg class="w-12 h-12 mx-auto text-gray-400 mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                                            </svg>
                                            <p class="text-gray-700 dark:text-gray-300 font-semibold">Drag and drop images here</p>
                                            <p class="text-gray-500 text-sm">or click to select files</p>
                                            <p class="text-gray-400 text-xs mt-2">PNG, JPG up to 10MB</p>
                                        </div>
                                        <p class="text-gray-600 dark:text-gray-400 text-sm mt-2" x-show="uploadedFiles.length > 0">
                                            <span x-text="uploadedFiles.length"></span> file(s) selected
                                        </p>
                                    </div>

                                    <!-- Navigation Buttons -->
                                    <div class="flex gap-4 pt-6">
                                        <button
                                            type="button"
                                            @click="previousStep()"
                                            class="flex-1 px-6 py-3 border border-gray-300 text-lighthouse-navy dark:text-white font-heading font-semibold rounded-lg hover:bg-gray-50 dark:bg-gray-800 transition"
                                        >
                                            Back
                                        </button>
                                        <button
                                            type="submit"
                                            class="flex-1 btn-primary"
                                        >
                                            Submit Consultation Request
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>

                        <!-- Success Modal -->
                        <div x-show="showSuccessModal" x-transition class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4" @click.self="showSuccessModal = false" >
                            <div class="bg-white dark:bg-gray-900 rounded-xl shadow-2xl max-w-md w-full animate-scale-in relative">
                                <!-- Close Button -->
                                <button @click="showSuccessModal = false" class="absolute top-4 right-4 w-8 h-8 flex items-center justify-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                    </svg>
                                </button>

                                <!-- Success Content -->
                                <div class="p-8 md:p-12 text-center">
                                    <!-- Checkmark Icon -->
                                    <div class="mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-6">
                                        <svg class="w-8 h-8 text-green-600" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                                        </svg>
                                    </div>

                                    <!-- Thank You Message -->
                                    <h3 class="text-2xl font-heading font-bold text-lighthouse-navy dark:text-white mb-3">Thank You!</h3>
                                    <p class="text-gray-600 dark:text-gray-400 mb-6">
                                        Your consultation request has been submitted successfully.
                                    </p>

                                    <!-- Confirmation Details -->
                                    <div class="bg-lighthouse-warmgray dark:bg-gray-800 rounded-lg p-4 mb-6 text-left">
                                        <p class="text-sm text-gray-600 dark:text-gray-300 mb-2"><span class="font-semibold text-lighthouse-navy dark:text-white">Confirmation Email:</span> <br><span x-text="formData.email"></span></p>
                                        <p class="text-sm text-gray-600 dark:text-gray-300"><span class="font-semibold text-lighthouse-navy dark:text-white">Phone:</span> <br><span x-text="formData.phone"></span></p>
                                    </div>

                                    <!-- What Happens Next -->
                                    <div class="mb-8">
                                        <h4 class="font-heading font-bold text-lighthouse-navy dark:text-white mb-4 text-left">What Happens Next:</h4>
                                        <div class="space-y-3 text-left">
                                            <div class="flex gap-3">
                                                <div class="flex-shrink-0 flex items-center justify-center h-6 w-6 rounded-full bg-lighthouse-teal text-white text-sm font-bold">1</div>
                                                <p class="text-sm text-gray-700 dark:text-gray-300"><span class="font-semibold">Confirmation Email</span> - We'll send details to your inbox</p>
                                            </div>
                                            <div class="flex gap-3">
                                                <div class="flex-shrink-0 flex items-center justify-center h-6 w-6 rounded-full bg-lighthouse-teal text-white text-sm font-bold">2</div>
                                                <p class="text-sm text-gray-700 dark:text-gray-300"><span class="font-semibold">Initial Call</span> - Our consultant will contact you within 24 hours</p>
                                            </div>
                                            <div class="flex gap-3">
                                                <div class="flex-shrink-0 flex items-center justify-center h-6 w-6 rounded-full bg-lighthouse-teal text-white text-sm font-bold">3</div>
                                                <p class="text-sm text-gray-700 dark:text-gray-300"><span class="font-semibold">Free Consultation</span> - Schedule your personalized home assessment</p>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Action Buttons -->
                                    <div class="flex flex-col gap-3 sm:flex-row">
                                        <a href="./index.html" class="btn-primary flex-1 text-center">
                                            Back to Home
                                        </a>
                                        <a href="./gallery.html" class="btn-outline-dark flex-1 text-center">
                                            View Our Work
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Sidebar - Contact Information -->
                <div class="lg:col-span-1">
                    <!-- Contact Card -->
                    <div class="bg-lighthouse-navy text-white rounded-xl p-8 sticky top-24">
                        <h3 class="text-2xl font-heading font-bold mb-6">Quick Contact</h3>

                        <!-- Phone -->
                        <div class="mb-8 pb-8 border-b border-white/10">
                            <p class="text-gray-300 text-sm mb-2">Call us directly</p>
                            <a href="tel:+12035551234" class="text-xl font-heading font-bold hover:text-lighthouse-teal transition">
                                (203) 555-1234
                            </a>
                        </div>

                        <!-- Email -->
                        <div class="mb-8 pb-8 border-b border-white/10">
                            <p class="text-gray-300 text-sm mb-2">Send us an email</p>
                            <a href="mailto:hello@lighthouse.com" class="text-lg font-heading font-bold hover:text-lighthouse-teal transition break-all">
                                hello@lighthouse.com
                            </a>
                        </div>

                        <!-- Hours -->
                        <div class="mb-8 pb-8 border-b border-white/10">
                            <p class="text-gray-300 text-sm mb-3">Hours of Operation</p>
                            <div class="text-sm space-y-1">
                                <p><span class="font-semibold">Mon-Fri:</span> 9am - 5pm</p>
                                <p><span class="font-semibold">Sat:</span> 10am - 2pm</p>
                                <p><span class="font-semibold">Sun:</span> Closed</p>
                            </div>
                        </div>

                        <!-- Alternative Message -->
                        <div class="bg-lighthouse-teal/10 border border-lighthouse-teal/30 rounded-lg p-4">
                            <p class="text-sm text-gray-200">
                                <span class="block font-semibold text-white mb-2">Can't fill out the form?</span>
                                No problem! Give us a call and we'll walk you through everything. Our consultants are here to help.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <div id="footer-placeholder"></div>

    <!-- Include Components -->
    <script>
        // Navigation Component - Required for header
        function navigationComponent() {
            return {
                open: false,
                scrolled: false,
                init() { this.onScroll(); },
                onScroll() { this.scrolled = window.scrollY > 10; }
            }
        }

        // Load header and footer
        window.addEventListener('DOMContentLoaded', async () => {
            try {
                // Load header
                const headerResponse = await fetch('/src/components/partials/header.html');
                const headerData = await headerResponse.text();
                const headerPlaceholder = document.getElementById('header-placeholder');
                headerPlaceholder.innerHTML = headerData;

                // Initialize Alpine.js on the injected navigation
                if (window.Alpine) {
                    Alpine.initTree(headerPlaceholder);
                }

                // Load footer
                const footerResponse = await fetch('/src/components/partials/footer.html');
                const footerData = await footerResponse.text();
                const footerPlaceholder = document.getElementById('footer-placeholder');
                if (footerPlaceholder) {
                    footerPlaceholder.innerHTML = footerData;
                }
            } catch (error) {
                console.error('Error loading components:', error);
            }
        });

        // Alpine.js Form Component
        function consultationForm() {
            return {
                currentStep: 1,
                showSuccessModal: false,
                dragOver: false,
                uploadedFiles: [],

                formData: {
                    fullName: '',
                    email: '',
                    phone: '',
                    address: '',
                    projectType: '',
                    timeline: '',
                    budget: '',
                    description: '',
                    referralSource: '',
                    contactMethod: 'Either',
                    bestTime: []
                },

                errors: {
                    fullName: '',
                    email: '',
                    phone: '',
                    address: '',
                    projectType: '',
                    timeline: '',
                    budget: '',
                    description: ''
                },

                nextStep() {
                    if (this.validateStep(this.currentStep)) {
                        this.currentStep++;
                        this.scrollToForm();
                    }
                },

                previousStep() {
                    this.currentStep--;
                    this.scrollToForm();
                },

                scrollToForm() {
                    setTimeout(() => {
                        document.querySelector('form').scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }, 100);
                },

                validateField(field) {
                    this.errors[field] = '';

                    switch (field) {
                        case 'fullName':
                            if (!this.formData.fullName.trim()) {
                                this.errors.fullName = 'Full name is required';
                            } else if (this.formData.fullName.trim().length < 2) {
                                this.errors.fullName = 'Name must be at least 2 characters';
                            }
                            break;
                        case 'email':
                            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                            if (!this.formData.email) {
                                this.errors.email = 'Email is required';
                            } else if (!emailRegex.test(this.formData.email)) {
                                this.errors.email = 'Please enter a valid email address';
                            }
                            break;
                        case 'phone':
                            const phoneRegex = /^[\d\s\-\(\)\+]+$/;
                            if (!this.formData.phone) {
                                this.errors.phone = 'Phone number is required';
                            } else if (this.formData.phone.replace(/\D/g, '').length < 10) {
                                this.errors.phone = 'Please enter a valid phone number';
                            }
                            break;
                        case 'address':
                            if (!this.formData.address.trim()) {
                                this.errors.address = 'Project address is required';
                            } else if (this.formData.address.trim().length < 5) {
                                this.errors.address = 'Please enter a valid address';
                            }
                            break;
                        case 'projectType':
                            if (!this.formData.projectType) {
                                this.errors.projectType = 'Please select a project type';
                            }
                            break;
                        case 'timeline':
                            if (!this.formData.timeline) {
                                this.errors.timeline = 'Please select a timeline';
                            }
                            break;
                        case 'budget':
                            if (!this.formData.budget) {
                                this.errors.budget = 'Please select a budget range';
                            }
                            break;
                        case 'description':
                            if (!this.formData.description.trim()) {
                                this.errors.description = 'Project description is required';
                            } else if (this.formData.description.trim().length < 10) {
                                this.errors.description = 'Description must be at least 10 characters';
                            } else if (this.formData.description.length > 2000) {
                                this.errors.description = 'Description cannot exceed 2000 characters';
                            }
                            break;
                    }

                    return !this.errors[field];
                },

                validateStep(step) {
                    let isValid = true;

                    if (step === 1) {
                        isValid = this.validateField('fullName') && isValid;
                        isValid = this.validateField('email') && isValid;
                        isValid = this.validateField('phone') && isValid;
                    } else if (step === 2) {
                        isValid = this.validateField('address') && isValid;
                        isValid = this.validateField('projectType') && isValid;
                        isValid = this.validateField('timeline') && isValid;
                        isValid = this.validateField('budget') && isValid;
                    } else if (step === 3) {
                        isValid = this.validateField('description') && isValid;
                    }

                    return isValid;
                },

                toggleTime(time) {
                    const index = this.formData.bestTime.indexOf(time);
                    if (index > -1) {
                        this.formData.bestTime.splice(index, 1);
                    } else {
                        this.formData.bestTime.push(time);
                    }
                },

                handleFileUpload(event) {
                    let files;
                    if (event.dataTransfer) {
                        files = event.dataTransfer.files;
                        this.dragOver = false;
                    } else {
                        files = event.target.files;
                    }

                    for (let file of files) {
                        if (file.type.startsWith('image/') && file.size <= 10 * 1024 * 1024) {
                            this.uploadedFiles.push({
                                name: file.name,
                                size: file.size
                            });
                        }
                    }
                },

                async submitForm() {
                    if (!this.validateStep(3)) {
                        return;
                    }

                    try {
                        // Prepare form data
                        const formPayload = {
                            ...this.formData,
                            bestTime: this.formData.bestTime.join(', ') || 'Not specified',
                            filesCount: this.uploadedFiles.length
                        };

                        // Simulate API call (replace with actual HubSpot API endpoint)
                        console.log('Submitting form data:', formPayload);

                        // Mock successful submission
                        await new Promise(resolve => setTimeout(resolve, 1000));

                        // Show success modal
                        this.showSuccessModal = true;

                        // Reset form after success
                        setTimeout(() => {
                            this.resetForm();
                        }, 5000);

                    } catch (error) {
                        console.error('Form submission error:', error);
                        alert('An error occurred. Please try again.');
                    }
                },

                resetForm() {
                    this.currentStep = 1;
                    this.formData = {
                        fullName: '',
                        email: '',
                        phone: '',
                        address: '',
                        projectType: '',
                        timeline: '',
                        budget: '',
                        description: '',
                        referralSource: '',
                        contactMethod: 'Either',
                        bestTime: []
                    };
                    this.errors = {
                        fullName: '',
                        email: '',
                        phone: '',
                        address: '',
                        projectType: '',
                        timeline: '',
                        budget: '',
                        description: ''
                    };
                    this.uploadedFiles = [];
                    this.showSuccessModal = false;
                }
            }
        }
    </script>

<!-- Scroll to Top Button -->
    <button id="scrollToTop"
            class="fixed bottom-8 right-8 z-50 flex items-center justify-center w-14 h-14 transition-all duration-300 transform rounded-full shadow-2xl bg-lighthouse-accent-gold hover:bg-lighthouse-accent-gold/90 hover:scale-110 opacity-0 pointer-events-none"
            aria-label="Scroll to top">
        <svg class="w-6 h-6 text-lighthouse-navy" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 10l7-7m0 0l7 7m-7-7v18"/>
        </svg>
    </button>

    <!-- Scroll to Top Script -->
    <script>
        const scrollToTopBtn = document.getElementById('scrollToTop');

        // Show/hide button based on scroll position
        window.addEventListener('scroll', () => {
            if (window.scrollY > 300) {
                scrollToTopBtn.classList.remove('opacity-0', 'pointer-events-none');
                scrollToTopBtn.classList.add('opacity-100', 'pointer-events-auto');
            } else {
                scrollToTopBtn.classList.remove('opacity-100', 'pointer-events-auto');
                scrollToTopBtn.classList.add('opacity-0', 'pointer-events-none');
            }
        });

        // Smooth scroll to top on click
        scrollToTopBtn.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
    </script>

</body>
</html>
